<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Petra Visitor Experience Research | Laura Findlay</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --rose: #C1440E;
    --sandstone: #D4845A;
    --warm: #E8B88A;
    --pale: #F5E6D3;
    --deep: #2A1208;
    --ink: #3D1F0F;
    --gold: #B8860B;
    --sky: #8BB8C8;
    --sage: #7A9E7E;
    --cream: #FAF3EB;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--ink);
    overflow-x: hidden;
    cursor: none;
  }

  /* Custom cursor */
  .cursor {
    width: 12px; height: 12px;
    background: var(--rose);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    transition: transform 0.15s ease, width 0.2s, height 0.2s, background 0.2s;
    transform: translate(-50%, -50%);
  }
  .cursor-ring {
    width: 36px; height: 36px;
    border: 1.5px solid var(--sandstone);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9998;
    transition: transform 0.08s ease, width 0.2s, height 0.2s;
    transform: translate(-50%, -50%);
    opacity: 0.6;
  }
  body:has(a:hover) .cursor, body:has(button:hover) .cursor { transform: translate(-50%,-50%) scale(2); background: var(--gold); }

  /* NAV */
  nav {
    position: fixed; top: 0; left: 0; right: 0;
    z-index: 100;
    display: flex; justify-content: space-between; align-items: center;
    padding: 1.2rem 3rem;
    background: rgba(250,243,235,0.92);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(193,68,14,0.15);
  }
  .nav-logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--rose);
    letter-spacing: 0.05em;
  }
  .nav-links { display: flex; gap: 2rem; list-style: none; }
  .nav-links a {
    font-size: 0.8rem; letter-spacing: 0.08em; text-transform: uppercase;
    color: var(--ink); text-decoration: none; font-weight: 500;
    transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--rose); }

  /* HERO */
  .hero {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 1fr 1fr;
    position: relative;
    overflow: hidden;
  }
  .hero-left {
    background: var(--deep);
    display: flex; flex-direction: column; justify-content: flex-end;
    padding: 6rem 4rem;
    position: relative;
    overflow: hidden;
  }
  .hero-texture {
    position: absolute; inset: 0;
    background: 
      radial-gradient(ellipse at 20% 80%, rgba(193,68,14,0.3) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(212,132,90,0.2) 0%, transparent 50%);
  }
  /* Animated rock layers */
  .rock-layers {
    position: absolute; bottom: 0; left: 0; right: 0; height: 40%;
    overflow: hidden;
  }
  .rock-layer {
    position: absolute; bottom: 0; left: 0; right: 0;
    border-radius: 60% 40% 0 0 / 20px 20px 0 0;
    animation: rockFloat 8s ease-in-out infinite;
  }
  .rock-layer:nth-child(1) { height: 80px; background: rgba(193,68,14,0.4); animation-delay: 0s; }
  .rock-layer:nth-child(2) { height: 55px; background: rgba(212,132,90,0.3); animation-delay: 1s; border-radius: 70% 30% 0 0 / 15px 15px 0 0; }
  .rock-layer:nth-child(3) { height: 35px; background: rgba(232,184,138,0.2); animation-delay: 2s; border-radius: 50% 50% 0 0 / 10px 10px 0 0; }
  @keyframes rockFloat { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-5px)} }

  .hero-eyebrow {
    font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase;
    color: var(--sandstone); margin-bottom: 1.5rem; position: relative; z-index: 2;
  }
  .hero-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(3rem, 5vw, 5rem);
    line-height: 1.05;
    color: var(--pale);
    position: relative; z-index: 2;
    font-weight: 300;
  }
  .hero-title em { color: var(--sandstone); font-style: italic; }
  .hero-sub {
    margin-top: 2rem;
    font-size: 0.9rem;
    color: rgba(245,230,211,0.65);
    line-height: 1.7;
    max-width: 400px;
    position: relative; z-index: 2;
  }
  .hero-meta {
    margin-top: 3rem;
    display: flex; gap: 2rem;
    position: relative; z-index: 2;
  }
  .hero-meta-item { border-left: 2px solid var(--rose); padding-left: 1rem; }
  .hero-meta-item .val {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2rem; font-weight: 600;
    color: var(--warm);
  }
  .hero-meta-item .label {
    font-size: 0.7rem; letter-spacing: 0.1em; text-transform: uppercase;
    color: rgba(245,230,211,0.5);
  }

  .hero-right {
    background: var(--pale);
    display: flex; flex-direction: column; justify-content: center;
    padding: 6rem 4rem;
    position: relative;
  }
  /* Petra arch SVG illustration */
  .petra-illustration {
    position: absolute; top: 0; right: 0; bottom: 0;
    width: 100%; opacity: 0.08;
    pointer-events: none;
  }

  .hero-about-label {
    font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase;
    color: var(--sandstone); margin-bottom: 1rem;
  }
  .hero-about-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2.5rem; font-weight: 300; color: var(--deep);
    line-height: 1.2; margin-bottom: 1.5rem;
  }
  .hero-about-text {
    font-size: 0.95rem; line-height: 1.8; color: var(--ink);
    max-width: 420px; margin-bottom: 2rem;
  }
  .hero-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 2.5rem; }
  .tag {
    padding: 0.4rem 1rem;
    background: white;
    border: 1px solid rgba(193,68,14,0.2);
    border-radius: 100px;
    font-size: 0.75rem;
    color: var(--rose);
    letter-spacing: 0.05em;
  }
  .btn {
    display: inline-flex; align-items: center; gap: 0.6rem;
    padding: 0.9rem 2rem;
    background: var(--rose);
    color: white;
    border: none; border-radius: 4px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem; letter-spacing: 0.05em;
    cursor: none; text-decoration: none;
    transition: background 0.2s, transform 0.2s;
  }
  .btn:hover { background: var(--deep); transform: translateY(-2px); }
  .btn-outline {
    background: transparent;
    border: 1.5px solid var(--rose);
    color: var(--rose);
    margin-left: 1rem;
  }
  .btn-outline:hover { background: var(--rose); color: white; }

  /* SECTIONS */
  section { padding: 6rem 0; }
  .container { max-width: 1100px; margin: 0 auto; padding: 0 3rem; }
  .section-label {
    font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase;
    color: var(--sandstone); margin-bottom: 0.8rem;
  }
  .section-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(2rem, 3.5vw, 3rem);
    font-weight: 300; color: var(--deep);
    line-height: 1.2; margin-bottom: 1.5rem;
  }
  .section-title em { color: var(--rose); font-style: italic; }
  .section-intro {
    font-size: 1rem; line-height: 1.8; color: var(--ink);
    max-width: 680px; margin-bottom: 3rem;
  }

  /* STATS SECTION */
  .stats-section { background: var(--deep); color: var(--pale); }
  .stats-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.08);
    margin-top: 3rem;
  }
  .stat-card {
    padding: 3rem 2rem;
    background: var(--deep);
    text-align: center;
    transition: background 0.3s;
    position: relative; overflow: hidden;
  }
  .stat-card::before {
    content: '';
    position: absolute; bottom: 0; left: 0; right: 0; height: 3px;
    background: var(--rose);
    transform: scaleX(0); transform-origin: left;
    transition: transform 0.4s ease;
  }
  .stat-card:hover::before { transform: scaleX(1); }
  .stat-card:hover { background: rgba(193,68,14,0.15); }
  .stat-number {
    font-family: 'Cormorant Garamond', serif;
    font-size: 3.5rem; font-weight: 600;
    color: var(--warm);
    display: block;
    animation: countUp 1.5s ease forwards;
  }
  .stat-label {
    font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase;
    color: rgba(245,230,211,0.5); margin-top: 0.5rem;
  }
  .stat-note { font-size: 0.8rem; color: rgba(245,230,211,0.4); margin-top: 0.3rem; }

  /* FINDINGS */
  .findings-section { background: var(--cream); }
  .findings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; margin-top: 3rem; }
  .finding-card {
    background: white;
    padding: 3rem;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s;
    cursor: none;
  }
  .finding-card::after {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 4px;
    background: linear-gradient(90deg, var(--rose), var(--sandstone));
    transform: scaleX(0); transform-origin: left;
    transition: transform 0.4s;
  }
  .finding-card:hover::after { transform: scaleX(1); }
  .finding-card:hover { transform: translateY(-4px); }
  .finding-num {
    font-family: 'Cormorant Garamond', serif;
    font-size: 4rem; font-weight: 300;
    color: rgba(193,68,14,0.1);
    position: absolute; top: 1rem; right: 2rem;
    line-height: 1;
  }
  .finding-icon { font-size: 2rem; margin-bottom: 1rem; }
  .finding-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.5rem; font-weight: 600;
    color: var(--deep); margin-bottom: 1rem;
  }
  .finding-text { font-size: 0.9rem; line-height: 1.8; color: #5a3a2a; }
  .finding-highlight {
    display: inline-block;
    font-family: 'Cormorant Garamond', serif;
    font-size: 2rem; font-weight: 600;
    color: var(--rose);
    margin: 0.5rem 0;
  }

  /* CHART BARS */
  .chart-section { background: white; }
  .chart-wrap { margin-top: 3rem; }
  .chart-row {
    display: flex; align-items: center; gap: 1rem; margin-bottom: 1.2rem;
    opacity: 0; transform: translateX(-20px);
    transition: opacity 0.5s, transform 0.5s;
  }
  .chart-row.visible { opacity: 1; transform: translateX(0); }
  .chart-label { font-size: 0.85rem; width: 200px; flex-shrink: 0; color: var(--ink); }
  .chart-bar-wrap { flex: 1; background: var(--pale); height: 36px; border-radius: 2px; overflow: hidden; }
  .chart-bar {
    height: 100%; border-radius: 2px;
    background: linear-gradient(90deg, var(--rose), var(--sandstone));
    width: 0;
    transition: width 1s cubic-bezier(0.4,0,0.2,1);
    display: flex; align-items: center; justify-content: flex-end; padding-right: 0.6rem;
  }
  .chart-bar span { font-size: 0.75rem; font-weight: 500; color: white; white-space: nowrap; }
  .chart-val { font-size: 0.85rem; color: var(--rose); font-weight: 500; width: 60px; text-align: right; flex-shrink: 0; }

  /* SATISFACTION COMPARISON */
  .comparison-section { background: var(--pale); }
  .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 3rem; }
  .comparison-card {
    background: white;
    border-radius: 4px;
    padding: 3rem;
    text-align: center;
    box-shadow: 0 4px 40px rgba(42,18,8,0.06);
  }
  .score-ring {
    width: 180px; height: 180px;
    margin: 0 auto 1.5rem;
    position: relative;
  }
  .score-ring svg { transform: rotate(-90deg); }
  .score-ring .score-text {
    position: absolute; inset: 0;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
  }
  .score-text .big {
    font-family: 'Cormorant Garamond', serif;
    font-size: 3rem; font-weight: 600; color: var(--deep);
    line-height: 1;
  }
  .score-text .small { font-size: 0.75rem; color: #999; margin-top: 0.2rem; }
  .comparison-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.4rem; color: var(--deep); margin-bottom: 0.5rem;
  }
  .comparison-note { font-size: 0.85rem; color: #888; line-height: 1.6; }

  /* TRANSPORT SPLIT */
  .transport-split {
    display: flex; gap: 1px; margin-top: 2rem; height: 80px; border-radius: 4px; overflow: hidden;
  }
  .transport-foot {
    background: linear-gradient(135deg, var(--rose), var(--sandstone));
    flex: 82; display: flex; align-items: center; justify-content: center;
    color: white; font-size: 0.85rem; font-weight: 500;
  }
  .transport-donkey {
    background: var(--gold);
    flex: 18; display: flex; align-items: center; justify-content: center;
    color: white; font-size: 0.85rem; font-weight: 500;
  }

  /* QUOTES */
  .quotes-section { background: var(--deep); overflow: hidden; }
  .quotes-track {
    display: flex; gap: 2rem; margin-top: 3rem;
    overflow-x: auto; padding-bottom: 1.5rem;
    scrollbar-width: thin; scrollbar-color: var(--rose) transparent;
    scroll-snap-type: x mandatory;
  }
  .quote-card {
    flex-shrink: 0; width: 380px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(193,68,14,0.3);
    border-radius: 4px; padding: 2.5rem;
    scroll-snap-align: start;
    transition: border-color 0.3s, background 0.3s;
  }
  .quote-card:hover { border-color: var(--sandstone); background: rgba(255,255,255,0.1); }
  .quote-mark {
    font-family: 'Cormorant Garamond', serif;
    font-size: 4rem; color: var(--rose); line-height: 0.5;
    margin-bottom: 1rem; display: block;
  }
  .quote-text {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.2rem; font-style: italic;
    color: var(--pale); line-height: 1.6;
  }
  .quote-category {
    margin-top: 1.5rem;
    font-size: 0.7rem; letter-spacing: 0.15em; text-transform: uppercase;
    color: var(--sandstone);
  }

  /* RECOMMENDATIONS */
  .recs-section { background: var(--cream); }
  .recs-grid { margin-top: 3rem; display: flex; flex-direction: column; gap: 1px; }
  .rec-item {
    display: grid; grid-template-columns: 80px 120px 1fr;
    background: white; gap: 0;
    transition: transform 0.2s;
    cursor: none;
  }
  .rec-item:hover { transform: translateX(6px); }
  .rec-priority {
    display: flex; align-items: center; justify-content: center;
    font-size: 0.65rem; letter-spacing: 0.1em; text-transform: uppercase;
    font-weight: 600; color: white; writing-mode: vertical-rl;
    text-orientation: mixed; padding: 1.5rem 0;
  }
  .priority-high { background: var(--rose); }
  .priority-med { background: var(--sandstone); }
  .priority-low { background: var(--gold); }
  .rec-num {
    display: flex; align-items: center; justify-content: center;
    font-family: 'Cormorant Garamond', serif;
    font-size: 2.5rem; font-weight: 300; color: rgba(193,68,14,0.2);
    border-right: 1px solid var(--pale);
  }
  .rec-content { padding: 2rem 2.5rem; }
  .rec-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.3rem; font-weight: 600;
    color: var(--deep); margin-bottom: 0.6rem;
  }
  .rec-text { font-size: 0.88rem; line-height: 1.8; color: #5a3a2a; }

  /* GAME SECTION */
  .game-section { background: var(--deep); padding: 6rem 0; }
  .game-intro { color: var(--pale); max-width: 600px; }
  .game-wrap {
    margin-top: 3rem;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(193,68,14,0.3);
    border-radius: 8px;
    overflow: hidden;
  }
  .game-header {
    background: rgba(193,68,14,0.2);
    padding: 1rem 2rem;
    display: flex; justify-content: space-between; align-items: center;
  }
  .game-title-bar {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem; color: var(--pale);
  }
  .game-stats-bar { display: flex; gap: 2rem; }
  .game-stat { font-size: 0.8rem; color: var(--warm); }
  .game-stat span { font-weight: 600; }
  canvas#gameCanvas {
    display: block; width: 100%;
    background: #1a0a04;
  }
  .game-controls {
    padding: 1rem 2rem;
    display: flex; gap: 1rem; align-items: center;
    background: rgba(0,0,0,0.3);
  }
  .game-btn {
    padding: 0.6rem 1.5rem;
    background: var(--rose);
    color: white; border: none; border-radius: 3px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem; cursor: none;
    transition: background 0.2s;
  }
  .game-btn:hover { background: var(--sandstone); }
  .game-hint { font-size: 0.8rem; color: rgba(245,230,211,0.5); }

  /* METHODOLOGY */
  .method-section { background: white; }
  .method-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 2rem; margin-top: 3rem; }
  .method-card {
    padding: 2.5rem;
    border-top: 3px solid var(--pale);
    transition: border-color 0.3s;
  }
  .method-card:hover { border-color: var(--rose); }
  .method-icon { font-size: 2rem; margin-bottom: 1rem; }
  .method-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.3rem; color: var(--deep);
    margin-bottom: 0.8rem; font-weight: 600;
  }
  .method-text { font-size: 0.88rem; line-height: 1.8; color: #5a3a2a; }

  /* FOOTER */
  footer {
    background: var(--deep);
    padding: 4rem 3rem;
    text-align: center;
  }
  .footer-name {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2rem; color: var(--pale);
    margin-bottom: 0.5rem;
  }
  .footer-role { font-size: 0.8rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--sandstone); }
  .footer-note { margin-top: 2rem; font-size: 0.8rem; color: rgba(245,230,211,0.3); }

  /* SCROLL REVEAL */
  .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.7s, transform 0.7s; }
  .reveal.visible { opacity: 1; transform: translateY(0); }

  /* AWARENESS SPLIT VIZ */
  .awareness-bars { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem; }
  .awareness-item { }
  .awareness-pct {
    font-family: 'Cormorant Garamond', serif;
    font-size: 4rem; font-weight: 600;
    line-height: 1;
  }
  .aware-yes { color: var(--rose); }
  .aware-no { color: var(--deep); }
  .awareness-label { font-size: 0.85rem; color: #888; margin-top: 0.3rem; }
  .awareness-sub { font-size: 0.8rem; color: #aaa; margin-top: 0.2rem; line-height: 1.5; }

  /* PDTRA badge */
  .pdtra-badge {
    display: inline-flex; align-items: center; gap: 0.8rem;
    padding: 0.6rem 1.2rem;
    background: rgba(193,68,14,0.1);
    border: 1px solid rgba(193,68,14,0.2);
    border-radius: 100px;
    font-size: 0.75rem;
    color: var(--rose);
    letter-spacing: 0.05em;
    margin-bottom: 2rem;
  }
  .pdtra-dot { width: 8px; height: 8px; background: var(--rose); border-radius: 50%; animation: pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }

  @media (max-width: 768px) {
    .hero { grid-template-columns: 1fr; }
    .stats-grid { grid-template-columns: 1fr 1fr; }
    .findings-grid { grid-template-columns: 1fr; }
    .comparison-grid { grid-template-columns: 1fr; }
    .method-grid { grid-template-columns: 1fr; }
    nav { padding: 1rem 1.5rem; }
    .rec-item { grid-template-columns: 60px 80px 1fr; }
  }
</style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<nav>
  <div class="nav-logo">Laura Findlay ¬∑ UX Research</div>
  <ul class="nav-links">
    <li><a href="#findings">Findings</a></li>
    <li><a href="#data">Data</a></li>
    <li><a href="#recommendations">Recommendations</a></li>
    <li><a href="#game">Try the Game</a></li>
    <li><a href="#methodology">Methodology</a></li>
  </ul>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-left">
    <div class="hero-texture"></div>
    <div class="rock-layers">
      <div class="rock-layer"></div>
      <div class="rock-layer"></div>
      <div class="rock-layer"></div>
    </div>
    <div class="hero-eyebrow">Field Research ¬∑ Petra, Jordan ¬∑ February 2026</div>
    <h1 class="hero-title">
      Visitor Experience<br>at <em>Petra</em><br>Archaeological Park
    </h1>
    <p class="hero-sub">A field-based UX research study examining the end-to-end visitor journey ‚Äî from the Treasury to the shuttle bus stop ‚Äî and what it tells us about service design in heritage tourism.</p>
    <div class="hero-meta">
      <div class="hero-meta-item">
        <span class="val">246</span>
        <span class="label">Responses</span>
      </div>
      <div class="hero-meta-item">
        <span class="val">40+</span>
        <span class="label">Nationalities</span>
      </div>
      <div class="hero-meta-item">
        <span class="val">9</span>
        <span class="label">Recommendations</span>
      </div>
    </div>
  </div>

  <div class="hero-right">
    <svg class="petra-illustration" viewBox="0 0 500 600" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Stylised Treasury silhouette -->
      <rect x="180" y="300" width="140" height="200" fill="#C1440E" opacity="0.5"/>
      <polygon points="180,300 250,200 320,300" fill="#C1440E" opacity="0.5"/>
      <rect x="200" y="240" width="100" height="60" fill="#C1440E" opacity="0.3"/>
      <circle cx="250" cy="220" r="20" fill="#C1440E" opacity="0.3"/>
      <rect x="210" y="380" width="30" height="120" fill="#2A1208" opacity="0.5"/>
      <rect x="260" y="380" width="30" height="120" fill="#2A1208" opacity="0.5"/>
      <rect x="230" y="420" width="40" height="80" fill="#C1440E" opacity="0.2"/>
      <!-- Columns -->
      <rect x="195" y="300" width="12" height="80" fill="#D4845A" opacity="0.4"/>
      <rect x="220" y="300" width="12" height="80" fill="#D4845A" opacity="0.4"/>
      <rect x="268" y="300" width="12" height="80" fill="#D4845A" opacity="0.4"/>
      <rect x="293" y="300" width="12" height="80" fill="#D4845A" opacity="0.4"/>
    </svg>

    <div class="pdtra-badge">
      <div class="pdtra-dot"></div>
      Entrusted by PDTRA ¬∑ Chief Commissioner Dr. Fares Braizat & Commissioner Yazan Mahadin
    </div>

    <div class="hero-about-label">About This Study</div>
    <h2 class="hero-about-title">One of the world's great sites ‚Äî and a service design opportunity</h2>
    <p class="hero-about-text">Petra draws visitors from across the globe to witness its rose-red sandstone canyons and ancient Nabataean architecture. But the visitor journey doesn't end at the Treasury. This study used in-field surveys to understand how that journey concludes ‚Äî and where the service environment is letting visitors down.</p>

    <div class="hero-tags">
      <span class="tag">UX Research</span>
      <span class="tag">Service Design</span>
      <span class="tag">Mixed Methods</span>
      <span class="tag">Heritage Tourism</span>
      <span class="tag">Wayfinding</span>
      <span class="tag">Accessibility</span>
    </div>

    <div>
      <a href="#findings" class="btn">Explore the Findings ‚Üì</a>
      <a href="#game" class="btn btn-outline">Play the Game</a>
    </div>
  </div>
</section>

<!-- STATS -->
<section class="stats-section" id="stats">
  <div class="container">
    <div class="section-label">At a Glance</div>
    <h2 class="section-title" style="color:var(--pale)">The numbers tell a <em style="color:var(--sandstone)">clear story</em></h2>
    <div class="stats-grid">
      <div class="stat-card reveal">
        <span class="stat-number">8.9<span style="font-size:1.5rem">/10</span></span>
        <div class="stat-label">Overall Experience Score</div>
        <div class="stat-note">avg. across 246 respondents</div>
      </div>
      <div class="stat-card reveal">
        <span class="stat-number">6.3<span style="font-size:1.5rem">/10</span></span>
        <div class="stat-label">Bus Journey Satisfaction</div>
        <div class="stat-note">a 2.6 point gap ‚Äî entirely avoidable</div>
      </div>
      <div class="stat-card reveal">
        <span class="stat-number">57<span style="font-size:1.5rem">%</span></span>
        <div class="stat-label">Unaware of Last Bus Time</div>
        <div class="stat-note">navigating without key information</div>
      </div>
      <div class="stat-card reveal">
        <span class="stat-number">88<span style="font-size:1.5rem">%</span></span>
        <div class="stat-label">Rated Overall Experience 8‚Äì10</div>
        <div class="stat-note">the site itself is exceptional</div>
      </div>
    </div>
  </div>
</section>

<!-- FINDINGS -->
<section class="findings-section" id="findings">
  <div class="container">
    <div class="section-label">Key Findings</div>
    <h2 class="section-title">What the data <em>revealed</em></h2>
    <p class="section-intro">Four findings emerged from the survey data, each pointing to a different dimension of the visitor experience ‚Äî and a different type of service design intervention.</p>

    <div class="findings-grid">
      <div class="finding-card reveal">
        <div class="finding-num">01</div>
        <div class="finding-icon">üèõÔ∏è</div>
        <div class="finding-title">Petra itself is exceptional</div>
        <div class="finding-text">
          <span class="finding-highlight">8.9 / 10</span><br>
          88% of visitors gave the overall experience a score of 8 or above. Only 2% rated it 5 or below. The site's extraordinary heritage is not the problem ‚Äî the service environment surrounding it is.
        </div>
      </div>
      <div class="finding-card reveal">
        <div class="finding-num">02</div>
        <div class="finding-icon">üöå</div>
        <div class="finding-title">The bus journey is a pain point</div>
        <div class="finding-text">
          <span class="finding-highlight">6.3 / 10</span><br>
          The basin-to-bus journey scored 2.6 points lower than the overall experience. 36% rated it 5 or below. Critically: visitors who took a donkey ride scored it <strong>8.25/10</strong> vs. walkers at just <strong>5.91/10</strong> ‚Äî the walk, not the service, is the problem.
        </div>
      </div>
      <div class="finding-card reveal">
        <div class="finding-num">03</div>
        <div class="finding-icon">üó∫Ô∏è</div>
        <div class="finding-title">Visitors are flying blind</div>
        <div class="finding-text">
          <span class="finding-highlight">57%</span><br>
          of visitors didn't know the last bus departure time. Of those who did (43%), some likely had incorrect information from informal sources. Word of mouth was the #1 discovery channel ‚Äî ahead of official signs. Visitors shouldn't rely on strangers to find a bus.
        </div>
      </div>
      <div class="finding-card reveal">
        <div class="finding-num">04</div>
        <div class="finding-icon">ü´è</div>
        <div class="finding-title">Operators are filling the gap ‚Äî badly</div>
        <div class="finding-text">
          <span class="finding-highlight">19 mentions</span><br>
          Donkey operators were cited as a discovery channel for the shuttle bus ‚Äî above hotels. These same operators profit from discouraging visitors from walking, and frequently provide false distance estimates. A conflict of interest is embedded in the information chain.
        </div>
      </div>
    </div>
  </div>
</section>

<!-- DATA VISUALISATIONS -->
<section class="chart-section" id="data">
  <div class="container">
    <div class="section-label">Data Deep Dive</div>
    <h2 class="section-title">How visitors <em>discovered</em> the bus</h2>
    <p class="section-intro">262 mentions recorded across 246 respondents, adjusted for split responses. Word of mouth edges out signage as the leading channel ‚Äî revealing an informal, uncontrolled information ecosystem.</p>

    <div class="chart-wrap" id="discoveryChart">
      <div class="chart-row">
        <div class="chart-label">Word of Mouth</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="100"><span>64 responses ¬∑ 24.4%</span></div></div>
        <div class="chart-val">24.4%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">On-Site Signs</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="98"><span>63 responses ¬∑ 24.0%</span></div></div>
        <div class="chart-val">24.0%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Visitor Centre</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="53"><span>34 responses ¬∑ 13.0%</span></div></div>
        <div class="chart-val">13.0%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Guide</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="42"><span>27 responses ¬∑ 10.3%</span></div></div>
        <div class="chart-val">10.3%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Internet / Online</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="37"><span>24 responses ¬∑ 9.2%</span></div></div>
        <div class="chart-val">9.2%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Locals / Donkey Operators</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="30" style="background:linear-gradient(90deg,#B8860B,#D4A017)"><span>19 responses ¬∑ 7.3%</span></div></div>
        <div class="chart-val" style="color:var(--gold)">7.3%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Hotel / Accommodation</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="20"><span>13 responses ¬∑ 5.0%</span></div></div>
        <div class="chart-val">5.0%</div>
      </div>
      <div class="chart-row">
        <div class="chart-label">Map</div>
        <div class="chart-bar-wrap"><div class="chart-bar" data-pct="12"><span>8 responses ¬∑ 3.1%</span></div></div>
        <div class="chart-val">3.1%</div>
      </div>
    </div>

    <!-- Satisfaction comparison -->
    <div style="margin-top:5rem">
      <h2 class="section-title">Satisfaction by <em>transport mode</em></h2>
      <p class="section-intro">The 2.34-point gap between walkers and donkey riders is the most actionable data point in the study. It shows the route is the problem ‚Äî not the service.</p>
      <div class="comparison-grid">
        <div class="comparison-card reveal">
          <div class="score-ring">
            <svg width="180" height="180" viewBox="0 0 180 180">
              <circle cx="90" cy="90" r="75" stroke="#f0e0d0" stroke-width="12" fill="none"/>
              <circle cx="90" cy="90" r="75" stroke="#C1440E" stroke-width="12" fill="none"
                stroke-dasharray="471" stroke-dashoffset="88" stroke-linecap="round"
                style="transition:stroke-dashoffset 1.5s ease" id="ring1"/>
            </svg>
            <div class="score-text">
              <span class="big">5.91</span>
              <span class="small">out of 10</span>
            </div>
          </div>
          <div class="comparison-title">Visitors who walked</div>
          <p class="comparison-note">82% of respondents ¬∑ 202 visitors<br>41% rated the journey 5 or below</p>
          <div class="transport-split" style="height:50px;margin-top:1.5rem">
            <div class="transport-foot" style="flex:82;font-size:0.75rem">82% walked</div>
          </div>
        </div>
        <div class="comparison-card reveal">
          <div class="score-ring">
            <svg width="180" height="180" viewBox="0 0 180 180">
              <circle cx="90" cy="90" r="75" stroke="#f0e0d0" stroke-width="12" fill="none"/>
              <circle cx="90" cy="90" r="75" stroke="#7A9E7E" stroke-width="12" fill="none"
                stroke-dasharray="471" stroke-dashoffset="83" stroke-linecap="round"
                style="transition:stroke-dashoffset 1.5s ease" id="ring2"/>
            </svg>
            <div class="score-text">
              <span class="big" style="color:var(--sage)">8.25</span>
              <span class="small">out of 10</span>
            </div>
          </div>
          <div class="comparison-title">Visitors who took a donkey</div>
          <p class="comparison-note">18% of respondents ¬∑ 44 visitors<br>68% rated the journey 8 or above</p>
          <div class="transport-split" style="height:50px;margin-top:1.5rem">
            <div class="transport-donkey" style="flex:1;font-size:0.75rem">18% donkey</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Awareness -->
    <div style="margin-top:5rem" class="reveal">
      <h2 class="section-title">Bus schedule <em>awareness</em></h2>
      <div class="awareness-bars">
        <div class="awareness-item">
          <div class="awareness-pct aware-no">57%</div>
          <div class="awareness-label">Did not know the last departure time</div>
          <div class="awareness-sub">140 visitors navigating the most time-sensitive moment of their visit without basic scheduling information</div>
        </div>
        <div class="awareness-item">
          <div class="awareness-pct aware-yes">43%</div>
          <div class="awareness-label">Had some awareness of departure time</div>
          <div class="awareness-sub">But accuracy was not verified ‚Äî anecdotal evidence suggests a portion had incorrect times from informal sources</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- QUOTES -->
<section class="quotes-section">
  <div class="container">
    <div class="section-label" style="color:var(--sandstone)">Visitor Voices</div>
    <h2 class="section-title" style="color:var(--pale)">In their own <em style="color:var(--sandstone)">words</em></h2>
    <p class="section-intro" style="color:rgba(245,230,211,0.6)">Scroll to read direct quotes from the field ‚Äî reproduced verbatim from survey responses.</p>
  </div>
  <div class="quotes-track" style="padding: 0 3rem">
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">Too far, no signs, and the locals tell you it's even further.</p>
      <div class="quote-category">üó∫Ô∏è Wayfinding & Misinformation</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">We waited 25 minutes at the wrong stop ‚Äî there was nothing telling us where the actual bus stop was.</p>
      <div class="quote-category">üöå Signage Failure</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">The donkey guys told us there was no bus and tried to charge us. The walk was fine once we found it.</p>
      <div class="quote-category">ü´è Operator Misinformation</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">Not logical ‚Äî the bus stop doesn't go all the way to the basin. Needs to be closer or better marked.</p>
      <div class="quote-category">üìç Route Design</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">My husband is in a wheelchair. The rough road was very difficult and there was no support.</p>
      <div class="quote-category">‚ôø Accessibility</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">Petra by night is expensive and the shuttle bus is expensive. Sellers are pushy.</p>
      <div class="quote-category">üí∞ Vendor Conduct</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">The government pushing out locals is unappealing. The animal welfare is bad.</p>
      <div class="quote-category">üêæ Animal Welfare</div>
    </div>
    <div class="quote-card">
      <span class="quote-mark">"</span>
      <p class="quote-text">Minupulation from locals ‚Äî donkeys need better signage for ETA to bus stop so that they don't feel pressured into getting a donkey.</p>
      <div class="quote-category">ü´è Operator Conduct</div>
    </div>
  </div>
</section>

<!-- RECOMMENDATIONS -->
<section class="recs-section" id="recommendations">
  <div class="container">
    <div class="section-label">Actionable Recommendations</div>
    <h2 class="section-title">9 changes, <em>directly</em> from the data</h2>
    <p class="section-intro">Prioritised by impact and feasibility. The most critical improvements require no changes to the archaeological site itself ‚Äî only to the service environment surrounding it.</p>

    <div class="recs-grid reveal">
      <div class="rec-item">
        <div class="rec-priority priority-high">HIGH</div>
        <div class="rec-num">R1</div>
        <div class="rec-content">
          <div class="rec-title">Comprehensive Wayfinding Overhaul</div>
          <div class="rec-text">Install clear, consistent directional signage along the full basin-to-bus route with walking time estimates and confirmation markers every 200‚Äì300m. The roundabout stop is a known confusion point ‚Äî an unmistakable terminal sign is essential.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-high">HIGH</div>
        <div class="rec-num">R2</div>
        <div class="rec-content">
          <div class="rec-title">Establish a Formal Information Infrastructure</div>
          <div class="rec-text">Word of mouth is not a strategy. Departure time displays at the visitor centre and basin; standardised hotel partner briefings; a dedicated PAP shuttle bus page on the website and Google Maps. Every visitor should encounter this through an official channel.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-high">HIGH</div>
        <div class="rec-num">R3</div>
        <div class="rec-content">
          <div class="rec-title">Address Vendor & Donkey Operator Misinformation</div>
          <div class="rec-text">Enforce clear conduct standards for all commercial operators with visible consequences. Deploy uniformed information staff at the basin and along the route to provide accurate guidance and deter bad actors.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-med">MED</div>
        <div class="rec-num">R4</div>
        <div class="rec-content">
          <div class="rec-title">Improve the Pedestrian Walking Experience</div>
          <div class="rec-text">Walkers rated the journey 5.91/10 vs. donkey riders at 8.25/10 ‚Äî a 2.34-point gap driven by the physical walk. Shaded rest points, seating, and distance markers would have immediate impact. Even temporary shade structures while longer infrastructure is planned.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-med">MED</div>
        <div class="rec-num">R5</div>
        <div class="rec-content">
          <div class="rec-title">Relocate or Extend the Bus Stop Closer to the Basin</div>
          <div class="rec-text">The single most-requested change in qualitative feedback. Investigate whether the route can be extended or a secondary pick-up point installed near the basin restaurants.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-med">MED</div>
        <div class="rec-num">R6</div>
        <div class="rec-content">
          <div class="rec-title">Address the Conflict of Interest in Operator Information</div>
          <div class="rec-text">Donkey operators rank above hotels as an information source ‚Äî but profit from discouraging walking. A clear code of conduct and ranger presence at key decision points would give visitors a trusted alternative to operator guidance.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-low">LOW</div>
        <div class="rec-num">R7</div>
        <div class="rec-content">
          <div class="rec-title">Accessibility Audit & Plan</div>
          <div class="rec-text">Commission an accessibility audit of the route. Explore surface improvements, a dedicated accessible shuttle, or a ranger escort service for wheelchair users, injured visitors, and elderly travellers.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-low">LOW</div>
        <div class="rec-num">R8</div>
        <div class="rec-content">
          <div class="rec-title">On-Site Information Strategy Review</div>
          <div class="rec-text">Audio guide rental, QR markers at monuments, and richer interpretation throughout the site. Petra's heritage is its greatest asset ‚Äî better storytelling infrastructure would elevate the experience significantly.</div>
        </div>
      </div>
      <div class="rec-item">
        <div class="rec-priority priority-low">LOW</div>
        <div class="rec-num">R9</div>
        <div class="rec-content">
          <div class="rec-title">Animal Welfare Visibility</div>
          <div class="rec-text">Welfare concerns were raised unprompted across multiple surveys. Publicly visible welfare standards ‚Äî through signage, visitor centre notices, or PAP-endorsed operator standards ‚Äî would align with international visitor expectations.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- GAME -->
<section class="game-section" id="game">
  <div class="container">
    <div class="section-label" style="color:var(--sandstone)">Interactive Experience</div>
    <h2 class="section-title" style="color:var(--pale)">Navigate Petra: <em style="color:var(--sandstone)">The Shuttle Bus Run</em></h2>
    <p class="section-intro game-intro">This mini-game recreates the exact pain points our 246 respondents described ‚Äî dodging misleading donkey sellers, finding signs that actually make sense, and making it to the bus before it leaves. Use arrow keys or WASD to move.</p>

    <div class="game-wrap">
      <div class="game-header">
        <div class="game-title-bar">üèõÔ∏è Treasury ‚Üí üöå Shuttle Bus Stop</div>
        <div class="game-stats-bar">
          <div class="game-stat">Health: <span id="healthDisplay">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>
          <div class="game-stat">Distance: <span id="distDisplay">0m</span></div>
          <div class="game-stat">Time left: <span id="timeDisplay">60s</span></div>
        </div>
      </div>
      <canvas id="gameCanvas" width="1000" height="380"></canvas>
      <div class="game-controls">
        <button class="game-btn" id="startBtn" onclick="startGame()">‚ñ∂ Start Game</button>
        <button class="game-btn" onclick="restartGame()" style="background:var(--ink)">‚Ü∫ Restart</button>
        <span class="game-hint">Arrow keys / WASD to move ¬∑ Avoid donkeys & misleading signs ¬∑ Find the real bus stop!</span>
      </div>
    </div>
  </div>
</section>

<!-- METHODOLOGY -->
<section class="method-section" id="methodology">
  <div class="container">
    <div class="section-label">Methodology</div>
    <h2 class="section-title">How the research <em>was conducted</em></h2>
    <p class="section-intro">End-to-end ownership of the research process ‚Äî from instrument design through to analysis and recommendations.</p>

    <div class="method-grid">
      <div class="method-card reveal">
        <div class="method-icon">üìã</div>
        <div class="method-title">Survey Design</div>
        <div class="method-text">Designed and built the survey instrument from scratch, covering six research areas: overall satisfaction, transport mode, schedule awareness, journey satisfaction, visitor profile, and open-ended qualitative feedback. Deliberately kept concise to respect visitor fatigue.</div>
      </div>
      <div class="method-card reveal">
        <div class="method-icon">üßë‚Äçü§ù‚Äçüßë</div>
        <div class="method-title">Field Research</div>
        <div class="method-text">Led a team of four surveyors conducting in-person interviews at the shuttle bus boarding point near the Turkmaniyya Tomb. Surveys captured feedback immediately post-visit while experiences were fresh. 246 valid responses collected across the survey period.</div>
      </div>
      <div class="method-card reveal">
        <div class="method-icon">üìä</div>
        <div class="method-title">Analysis</div>
        <div class="method-text">Quantitative analysis of satisfaction scores, demographic breakdowns, and transport mode comparisons. Qualitative thematic coding of open-ended responses. Discovery channel data adjusted for split responses. Results translated into 9 prioritised, actionable recommendations.</div>
      </div>
    </div>

    <div style="margin-top:4rem; padding:3rem; background:var(--pale); border-left:4px solid var(--rose);" class="reveal">
      <div class="section-label">Research Lead</div>
      <h3 style="font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--deep);margin-bottom:0.5rem">Laura Findlay</h3>
      <p style="font-size:0.9rem;line-height:1.8;color:var(--ink);max-width:600px">
        Entrusted by Chief Commissioner Dr. Fares Braizat and Commissioner Yazan Mahadin of the Petra Development and Tourism Region Authority (PDTRA) to design, build, and lead this end-to-end visitor experience research initiative at one of the world's most visited UNESCO World Heritage Sites.
      </p>
      <div style="margin-top:1.5rem;display:flex;gap:1rem;flex-wrap:wrap">
        <span class="tag">UX Research Lead</span>
        <span class="tag">Survey Design</span>
        <span class="tag">Team Lead (4 surveyors)</span>
        <span class="tag">Data Analysis</span>
        <span class="tag">Service Design Recommendations</span>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="footer-name">Laura Findlay</div>
  <div class="footer-role">UX Researcher ¬∑ Service Designer</div>
  <div class="footer-note">Visitor Experience Research ¬∑ Petra Archaeological Park ¬∑ February 2026<br>
  Conducted under the direction of PDTRA ¬∑ Chief Commissioner Dr. Fares Braizat & Commissioner Yazan Mahadin</div>
</footer>

<script>
// Custom cursor
const cursor = document.getElementById('cursor');
const ring = document.getElementById('cursorRing');
let mx = 0, my = 0, rx = 0, ry = 0;
document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; cursor.style.left = mx+'px'; cursor.style.top = my+'px'; });
function animateRing() { rx += (mx-rx)*0.12; ry += (my-ry)*0.12; ring.style.left = rx+'px'; ring.style.top = ry+'px'; requestAnimationFrame(animateRing); }
animateRing();

// Scroll reveal
const revealEls = document.querySelectorAll('.reveal');
const obs = new IntersectionObserver(entries => {
  entries.forEach(e => { if(e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } });
}, { threshold: 0.15 });
revealEls.forEach(el => obs.observe(el));

// Chart bars animate on scroll
const chartRows = document.querySelectorAll('.chart-row');
const chartObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if(e.isIntersecting) {
      const row = e.target;
      row.classList.add('visible');
      const bar = row.querySelector('.chart-bar');
      const pct = bar.dataset.pct;
      setTimeout(() => { bar.style.width = pct + '%'; }, 200);
      chartObs.unobserve(row);
    }
  });
}, { threshold: 0.3 });
chartRows.forEach((row, i) => { row.style.transitionDelay = (i * 0.08) + 's'; chartObs.observe(row); });

// =====================
// GAME ENGINE
// =====================
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = 1000; canvas.height = 380;

let gameState = 'idle'; // idle, playing, won, lost
let player, obstacles, signs, goodSigns, busStop, scrollX, health, timeLeft, timer, score;
let keys = {};
let particles = [];

document.addEventListener('keydown', e => { keys[e.key] = true; });
document.addEventListener('keyup', e => { keys[e.key] = false; });

// Sandstone color palette for game
const PETRA_COLS = ['#C1440E','#D4845A','#B8860B','#8B4513','#A0522D'];

function initGame() {
  player = { x: 80, y: 200, w: 28, h: 40, vy: 0, onGround: true, frame: 0, frameTimer: 0 };
  scrollX = 0;
  health = 3;
  timeLeft = 90;
  score = 0;
  particles = [];

  // Obstacles: donkeys
  obstacles = [];
  for(let i = 0; i < 12; i++) {
    obstacles.push({
      x: 400 + i * 220 + Math.random() * 80,
      y: 210 + (Math.random() > 0.5 ? 0 : 60),
      w: 50, h: 45,
      type: Math.random() > 0.5 ? 'donkey' : 'seller',
      speed: 0.5 + Math.random() * 0.8,
      dir: Math.random() > 0.5 ? 1 : -1,
      rangeY: 60, baseY: 210,
      hit: false, hitTimer: 0
    });
  }

  // Fake signs (misleading)
  signs = [];
  for(let i = 0; i < 8; i++) {
    signs.push({
      x: 300 + i * 280 + Math.random()*100,
      y: 155,
      fake: Math.random() > 0.35,
      collected: false
    });
  }

  // Shade spots (good, restore health)
  goodSigns = [];
  for(let i = 0; i < 4; i++) {
    goodSigns.push({
      x: 500 + i * 500,
      y: 180,
      collected: false
    });
  }

  busStop = { x: 3200, y: 140 };
  updateHUD();
}

function updateHUD() {
  document.getElementById('healthDisplay').textContent = '‚ù§Ô∏è'.repeat(Math.max(0,health));
  document.getElementById('distDisplay').textContent = Math.round(scrollX/20) + 'm';
  document.getElementById('timeDisplay').textContent = Math.ceil(timeLeft) + 's';
}

function startGame() {
  if(gameState === 'playing') return;
  initGame();
  gameState = 'playing';
  document.getElementById('startBtn').textContent = '‚ñ∂ Playing...';
  gameLoop();
  timer = setInterval(() => {
    if(gameState !== 'playing') return;
    timeLeft -= 1;
    if(timeLeft <= 0) { gameState = 'lost'; showEnd('‚è∞ You missed the last bus!', '#C1440E'); }
    updateHUD();
  }, 1000);
}

function restartGame() {
  clearInterval(timer);
  gameState = 'idle';
  document.getElementById('startBtn').textContent = '‚ñ∂ Start Game';
  initGame();
  drawIdle();
}

function showEnd(msg, col) {
  clearInterval(timer);
  document.getElementById('startBtn').textContent = '‚ñ∂ Start Game';
  ctx.fillStyle = 'rgba(0,0,0,0.7)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = col;
  ctx.font = 'bold 36px Cormorant Garamond, serif';
  ctx.textAlign = 'center';
  ctx.fillText(msg, canvas.width/2, canvas.height/2 - 20);
  ctx.fillStyle = '#F5E6D3';
  ctx.font = '18px DM Sans, sans-serif';
  if(gameState === 'won') {
    ctx.fillText('You found the shuttle bus! The 246 surveyed visitors were not so lucky.', canvas.width/2, canvas.height/2+20);
  } else {
    ctx.fillText('This is what 57% of Petra visitors experience every day.', canvas.width/2, canvas.height/2+20);
  }
  ctx.textAlign = 'left';
}

function drawIdle() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawBackground(0);
  ctx.fillStyle = 'rgba(0,0,0,0.5)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#F5E6D3';
  ctx.font = '28px Cormorant Garamond, serif';
  ctx.textAlign = 'center';
  ctx.fillText('Navigate from the Treasury to the Shuttle Bus Stop', canvas.width/2, canvas.height/2-20);
  ctx.font = '16px DM Sans, sans-serif';
  ctx.fillStyle = '#D4845A';
  ctx.fillText('Arrow keys / WASD ¬∑ Avoid donkey sellers ¬∑ Beware fake signs ¬∑ Find shade!', canvas.width/2, canvas.height/2+20);
  ctx.textAlign = 'left';
}

function drawBackground(scroll) {
  // Sky gradient
  const sky = ctx.createLinearGradient(0,0,0,canvas.height);
  sky.addColorStop(0,'#87CEEB');
  sky.addColorStop(0.6,'#F5DEB3');
  ctx.fillStyle = sky;
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // Sun
  ctx.fillStyle = '#FFD700';
  ctx.beginPath();
  ctx.arc(800,50,35,0,Math.PI*2);
  ctx.fill();
  // Heat rays
  ctx.strokeStyle = 'rgba(255,215,0,0.3)';
  ctx.lineWidth = 2;
  for(let i=0;i<8;i++) {
    const ang = (i/8)*Math.PI*2;
    ctx.beginPath();
    ctx.moveTo(800+Math.cos(ang)*40,50+Math.sin(ang)*40);
    ctx.lineTo(800+Math.cos(ang)*60,50+Math.sin(ang)*60);
    ctx.stroke();
  }

  // Rock layers / cliffs
  ctx.fillStyle = '#C1440E';
  ctx.beginPath(); ctx.moveTo(0,80);
  for(let x=0;x<canvas.width+20;x+=40) {
    ctx.lineTo(x, 80 + Math.sin((x+scroll*0.2)*0.02)*20 + Math.sin((x+scroll*0.1)*0.05)*10);
  }
  ctx.lineTo(canvas.width,0); ctx.lineTo(0,0); ctx.closePath(); ctx.fill();

  ctx.fillStyle = '#D4845A';
  ctx.beginPath(); ctx.moveTo(0,110);
  for(let x=0;x<canvas.width+20;x+=40) {
    ctx.lineTo(x, 110 + Math.sin((x+scroll*0.15+50)*0.025)*15);
  }
  ctx.lineTo(canvas.width,0); ctx.lineTo(0,0); ctx.closePath(); ctx.fill();

  // Ground
  ctx.fillStyle = '#8B5E3C';
  ctx.fillRect(0, 260, canvas.width, canvas.height);
  ctx.fillStyle = '#A0714F';
  ctx.fillRect(0, 260, canvas.width, 8);

  // Path
  ctx.fillStyle = '#C9956A';
  ctx.fillRect(0, 248, canvas.width, 20);
  // Path dashes
  ctx.fillStyle = '#B8860B';
  for(let x=0;x<canvas.width+60;x+=80) {
    const px = ((x - (scroll%80)) + canvas.width) % (canvas.width+60);
    ctx.fillRect(px, 256, 40, 4);
  }
}

function drawPlayer(p) {
  const x = p.x; const y = p.y;
  // Body
  ctx.fillStyle = '#2A1208';
  ctx.fillRect(x-8, y-20, 16, 24);
  // Head
  ctx.fillStyle = '#FDBCB4';
  ctx.beginPath(); ctx.arc(x, y-26, 10, 0, Math.PI*2); ctx.fill();
  // Hat (sun hat!)
  ctx.fillStyle = '#D4845A';
  ctx.fillRect(x-13, y-37, 26, 4);
  ctx.fillRect(x-8, y-50, 16, 14);
  // Legs (animated)
  const legOff = Math.sin(p.frame * 0.5) * 5;
  ctx.fillStyle = '#3D1F0F';
  ctx.fillRect(x-7, y+4, 7, 14 + legOff);
  ctx.fillRect(x, y+4, 7, 14 - legOff);
  // Clipboard (UX researcher!)
  ctx.fillStyle = '#F5F5DC';
  ctx.fillRect(x+8, y-18, 10, 13);
  ctx.fillStyle = '#C1440E';
  ctx.fillRect(x+9, y-17, 8, 2);
  ctx.fillRect(x+9, y-14, 6, 1);
  ctx.fillRect(x+9, y-12, 7, 1);
}

function drawObstacle(obs, scroll) {
  const sx = obs.x - scroll;
  if(sx < -100 || sx > canvas.width+100) return;

  if(obs.hit) {
    ctx.globalAlpha = 0.5 + Math.sin(obs.hitTimer*0.5)*0.3;
  }

  if(obs.type === 'donkey') {
    // Donkey body
    ctx.fillStyle = '#8B7355';
    ctx.fillRect(sx-20, obs.y-10, 40, 25);
    // Head
    ctx.fillStyle = '#A08060';
    ctx.fillRect(sx+18, obs.y-20, 15, 20);
    // Ears
    ctx.fillStyle = '#8B7355';
    ctx.fillRect(sx+20, obs.y-32, 4, 14);
    ctx.fillRect(sx+27, obs.y-32, 4, 14);
    // Legs
    ctx.fillStyle = '#6B5335';
    ctx.fillRect(sx-15, obs.y+14, 7, 16);
    ctx.fillRect(sx-5, obs.y+14, 7, 16);
    ctx.fillRect(sx+8, obs.y+14, 7, 16);
    ctx.fillRect(sx+18, obs.y+14, 7, 16);
    // Speech bubble
    if(!obs.hit) {
      ctx.fillStyle = 'white';
      ctx.beginPath(); ctx.roundRect(sx-40, obs.y-55, 80, 30, 6); ctx.fill();
      ctx.fillStyle = '#C1440E';
      ctx.font = 'bold 9px DM Sans, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Bus is VERY far!', sx, obs.y-35);
      ctx.textAlign = 'left';
    }
  } else {
    // Seller person
    ctx.fillStyle = '#8B4513';
    ctx.fillRect(sx-8, obs.y-20, 16, 24);
    ctx.fillStyle = '#FDBCB4';
    ctx.beginPath(); ctx.arc(sx, obs.y-26, 9, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle = '#D4845A';
    ctx.fillRect(sx-12, obs.y-36, 24, 3);
    if(!obs.hit) {
      ctx.fillStyle = 'white';
      ctx.beginPath(); ctx.roundRect(sx-45, obs.y-60, 90, 28, 6); ctx.fill();
      ctx.fillStyle = '#C1440E';
      ctx.font = 'bold 9px DM Sans, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Donkey ride? Good price!', sx, obs.y-40);
      ctx.textAlign = 'left';
    }
  }
  ctx.globalAlpha = 1;
}

function drawSign(sign, scroll, fake) {
  const sx = sign.x - scroll;
  if(sx < -80 || sx > canvas.width+80 || sign.collected) return;
  // Post
  ctx.fillStyle = '#5C3317';
  ctx.fillRect(sx-2, 200, 4, 50);
  // Board
  ctx.fillStyle = fake ? '#C1440E' : '#27AE60';
  ctx.beginPath(); ctx.roundRect(sx-30, 165, 60, 38, 4); ctx.fill();
  ctx.fillStyle = 'white';
  ctx.font = 'bold 8px DM Sans';
  ctx.textAlign = 'center';
  if(fake) {
    ctx.fillText('BUS STOP', sx, 179);
    ctx.fillText('‚Üí 5 min', sx, 191);
    ctx.fillText('(FAKE)', sx, 200);
  } else {
    ctx.fillText('BUS STOP', sx, 179);
    ctx.fillText('‚Üí THIS WAY', sx, 191);
    ctx.fillText('‚úì REAL', sx, 200);
  }
  ctx.textAlign = 'left';
}

function drawShade(shade, scroll) {
  const sx = shade.x - scroll;
  if(sx < -100 || sx > canvas.width+100 || shade.collected) return;
  // Shade structure
  ctx.fillStyle = '#8BB8C8';
  ctx.fillRect(sx-40, 195, 80, 4);
  ctx.fillStyle = '#5C3317';
  ctx.fillRect(sx-35, 199, 4, 50);
  ctx.fillRect(sx+31, 199, 4, 50);
  ctx.fillStyle = 'rgba(139,184,200,0.4)';
  ctx.fillRect(sx-40, 195, 80, 55);
  ctx.font = '11px DM Sans'; ctx.fillStyle = '#2A5E78';
  ctx.textAlign = 'center'; ctx.fillText('üåø Shade', sx, 215); ctx.textAlign = 'left';
}

function drawBusStop(bus, scroll) {
  const sx = bus.x - scroll;
  if(sx > canvas.width+200) return;
  // Big sign
  ctx.fillStyle = '#27AE60';
  ctx.beginPath(); ctx.roundRect(sx-60, 100, 120, 60, 8); ctx.fill();
  ctx.fillStyle = 'white';
  ctx.font = 'bold 16px Cormorant Garamond, serif';
  ctx.textAlign = 'center';
  ctx.fillText('üöå BUS STOP', sx, 125);
  ctx.font = '11px DM Sans';
  ctx.fillText('REAL ¬∑ OFFICIAL ¬∑ PDTRA', sx, 145);
  ctx.textAlign = 'left';
  // Post
  ctx.fillStyle = '#1a6640';
  ctx.fillRect(sx-4, 160, 8, 100);
  // Bus
  ctx.fillStyle = '#2E86AB';
  ctx.beginPath(); ctx.roundRect(sx-70, 215, 130, 50, 6); ctx.fill();
  ctx.fillStyle = '#1a5f7a';
  ctx.fillRect(sx-65, 220, 40, 30);
  ctx.fillRect(sx-15, 220, 40, 30);
  ctx.fillRect(sx+35, 220, 30, 30);
  ctx.fillStyle = '#87CEEB';
  ctx.fillRect(sx-62, 223, 35, 22);
  ctx.fillRect(sx-12, 223, 35, 22);
  ctx.fillRect(sx+37, 223, 25, 22);
  // Wheels
  ctx.fillStyle = '#333';
  ctx.beginPath(); ctx.arc(sx-40, 265, 12, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(sx+40, 265, 12, 0, Math.PI*2); ctx.fill();
  ctx.fillStyle = '#888';
  ctx.beginPath(); ctx.arc(sx-40, 265, 5, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(sx+40, 265, 5, 0, Math.PI*2); ctx.fill();
  // Text on bus
  ctx.fillStyle = 'white';
  ctx.font = 'bold 10px DM Sans';
  ctx.textAlign = 'center';
  ctx.fillText('PETRA EXPRESS', sx, 246);
  ctx.textAlign = 'left';
}

function addParticles(x, y, col) {
  for(let i=0;i<8;i++) {
    particles.push({ x, y, vx:(Math.random()-0.5)*4, vy:(Math.random()-2)*3, life:1, col });
  }
}

function gameLoop() {
  if(gameState !== 'playing') return;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawBackground(scrollX);

  // Player movement
  const speed = 3.5;
  if((keys['ArrowLeft']||keys['a']||keys['A']) && player.x > 60) player.x -= speed;
  if((keys['ArrowRight']||keys['d']||keys['D'])) { player.x += speed; scrollX += speed; }
  if((keys['ArrowUp']||keys['w']||keys['W']||keys[' ']) && player.onGround) { player.vy = -12; player.onGround = false; }
  if((keys['ArrowDown']||keys['s']||keys['S']) && player.y < 240) player.y += 2;

  // Gravity
  player.vy += 0.6;
  player.y += player.vy;
  if(player.y >= 240) { player.y = 240; player.vy = 0; player.onGround = true; }
  if(player.y < 140) { player.y = 140; player.vy = 0; }

  // Animate legs
  if(keys['ArrowLeft']||keys['ArrowRight']||keys['a']||keys['d']||keys['A']||keys['D']) {
    player.frameTimer++; if(player.frameTimer>4){player.frame++;player.frameTimer=0;}
  }

  // Obstacles
  obstacles.forEach(obs => {
    obs.y = obs.baseY + Math.sin(Date.now()*0.002*obs.speed)*obs.rangeY;
    if(obs.hitTimer > 0) obs.hitTimer--;
    else obs.hit = false;

    const sx = obs.x - scrollX;
    if(Math.abs(sx - player.x) < 28 && Math.abs(obs.y - player.y) < 35 && !obs.hit) {
      obs.hit = true; obs.hitTimer = 60;
      health = Math.max(0, health-1);
      addParticles(player.x, player.y, '#C1440E');
      if(health <= 0) { gameState='lost'; showEnd('üòµ You collapsed from heat and confusion!','#C1440E'); }
      updateHUD();
    }
    drawObstacle(obs, scrollX);
  });

  // Signs
  signs.forEach(sign => {
    drawSign(sign, scrollX, sign.fake);
    const sx = sign.x - scrollX;
    if(!sign.collected && Math.abs(sx - player.x) < 35 && Math.abs(165 - player.y) < 80) {
      sign.collected = true;
      if(sign.fake) {
        health = Math.max(0, health-1);
        addParticles(player.x, player.y, '#C1440E');
        if(health<=0){gameState='lost';showEnd('üòµ Misled by a fake sign ‚Äî you missed the bus!','#C1440E');}
      } else {
        addParticles(player.x, player.y, '#27AE60');
      }
      updateHUD();
    }
  });

  // Shade
  goodSigns.forEach(shade => {
    drawShade(shade, scrollX);
    const sx = shade.x - scrollX;
    if(!shade.collected && Math.abs(sx - player.x) < 50 && Math.abs(197 - player.y) < 80) {
      shade.collected = true;
      if(health < 3) { health = Math.min(3, health+1); addParticles(player.x, player.y, '#8BB8C8'); updateHUD(); }
    }
  });

  // Bus stop
  drawBusStop(busStop, scrollX);
  const bsx = busStop.x - scrollX;
  if(bsx < 200) {
    gameState = 'won';
    showEnd('üéâ You made it to the shuttle bus!', '#27AE60');
    return;
  }

  // Particles
  particles = particles.filter(p => p.life > 0);
  particles.forEach(p => {
    p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life -= 0.05;
    ctx.globalAlpha = p.life;
    ctx.fillStyle = p.col;
    ctx.fillRect(p.x, p.y, 5, 5);
    ctx.globalAlpha = 1;
  });

  // Player
  drawPlayer(player);

  // HUD distance
  updateHUD();

  // Progress bar
  const progress = Math.min(scrollX / (busStop.x - 400), 1);
  ctx.fillStyle = 'rgba(0,0,0,0.3)';
  ctx.fillRect(20, 20, 200, 10);
  ctx.fillStyle = '#27AE60';
  ctx.fillRect(20, 20, 200*progress, 10);
  ctx.fillStyle = 'white'; ctx.font = '10px DM Sans';
  ctx.fillText('Progress to bus stop', 20, 46);

  requestAnimationFrame(gameLoop);
}

// Init
drawIdle();
</script>
</body>
</html>
